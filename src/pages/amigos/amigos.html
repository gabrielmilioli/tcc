<!--
  Generated template for the AmigosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Contatos</ion-title>
  </ion-navbar>
  
</ion-header>


<ion-content padding>
  <ion-title *ngIf="!amigos" text-center>Nenhuma amizade ainda</ion-title>
  <ng-container *ngIf="amigos">
    <div>
      <ion-segment [(ngModel)]="contatos">
        <ion-segment-button value="a">
          Amigos
        </ion-segment-button>
        <ion-segment-button value="p">
          Pendentes
          <ion-badge *ngIf="amigos.pendentes_total" color="primary" item-end>{{amigos.pendentes_total}}</ion-badge>
        </ion-segment-button>
      </ion-segment>
    </div>

    <div [ngSwitch]="contatos">
      <ion-list *ngSwitchCase="'a'">
        <ion-title *ngIf="!amigos.aceitos" text-center>Nenhum amigo adicionado</ion-title>
        <ion-item *ngFor="let a of amigos.aceitos" (click)="visualizarPerfil(a.amigo_id);">
          <ion-avatar class="usuario-foto" item-start left>
            <img [src]="a.amigo_foto" item-left>
          </ion-avatar>
          <h2>{{a.amigo_nome}}</h2>
          <button color="primary" ion-button outline item-end (click)="$event.stopPropagation();">
            Conversar
          </button>
        </ion-item>
      </ion-list>
    
      <ion-list *ngSwitchCase="'p'">
        <ion-title *ngIf="!amigos.pendentes" text-center>Nenhuma amizade pendente</ion-title>
        <ion-item *ngFor="let p of amigos.pendentes" (click)="visualizarPerfil(p.amigo_id);">
          <ion-avatar class="usuario-foto" item-start left>
            <img [src]="p.amigo_foto" item-left>
          </ion-avatar>
          <h2>{{p.amigo_nome}}</h2>
          <button color="primary" ion-button outline item-end (click)="aceitarAmizade(p.amigo_id);$event.stopPropagation();">
            Aceitar
          </button>
        </ion-item>
      </ion-list>
    </div>
  </ng-container>
</ion-content>
