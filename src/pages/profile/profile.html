<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-shadow no-border>

  <ion-navbar color="primary">
    <ion-title center text-center *ngIf="usuario" >{{usuario.nome}}</ion-title>
    <ion-buttons right [hidden]="!usuarioLogado">
      <button ion-button (click)="editar()">
        <ion-icon name="create"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons right [hidden]="usuarioLogado">
      <button ion-button (click)="reportar()">
        <ion-icon name="flag"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding center text-center>
  <ng-container *ngIf="usuario">

    <div id="card" class="four">
      <div class="image-wrapper" id="usuario-foto" [ngStyle]="{'background-image':usuario.foto}"></div>
      <h3 class="name">{{usuario.nome}}</h3>
      <ion-row class="info cf">
        <ion-col col-4 class="four">
          <span class="number">{{usuario.total_amigos}}</span>
          {{usuario.total_amigos == 1 ? 'Amigo' : 'Amigos'}}
        </ion-col>
        <ion-col col-4 class="four">
          <span class="number">{{usuario.total_classificacoes}}</span>
          {{usuario.total_classificacoes == 1 ? 'Classificação' : 'Classificações'}}
        </ion-col>
        <ion-col col-4 class="four">
          <span class="number">{{usuario.total_comentarios}}</span>
          {{usuario.total_comentarios == 1 ? 'Comentário' : 'Comentários'}}
        </ion-col>
      </ion-row>

      <ion-row [hidden]="usuarioLogado" class="options">
        <ion-col *ngIf="!usuario.amizade">
          <button ion-button full round color="primary" (click)="solicitarAmizade(usuario.id)">
            Solicitar amizade
          </button>
        </ion-col>
        <ion-col *ngIf="usuario.amizade === 1">
          <button ion-button full round color="lightPrimary" (click)="recusarAmizade(usuario.id)">
            Recusar amizade
          </button>
        </ion-col>
        <ion-col *ngIf="usuario.amizade === 1">
          <button ion-button full round color="primary" (click)="aceitarAmizade(usuario.id)">
            Aceitar amizade
          </button>
        </ion-col>
        <ion-col *ngIf="usuario.amizade === 2">
          <button ion-button full round color="lightPrimary" (click)="cancelarSolicitacao(usuario.id)">
            Cancelar solicitação de amizade
          </button>
        </ion-col>
        <ion-col *ngIf="usuario.amizade === 3">
          <button ion-button full round color="lightPrimary" (click)="desfazerAmizade(usuario.id)">
            Desfazer amizade
          </button>
        </ion-col>
        <ion-col *ngIf="usuario.amizade === 3">
          <button ion-button full round color="primary" (click)="conversar(usuario.id)">
            Conversar
          </button>
        </ion-col>
      </ion-row>
    </div>
  </ng-container>
</ion-content>

